<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Layui table | 数据表格 | datatable - 在线演示</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>
  ;!function(){self!==parent&&(location.href="//www.baidu.com/")}();
  </script>
  <link href="/v2/static/libs/layui/css/layui.css" rel="stylesheet">
  <link href="/v2/static/css/global.css" rel="stylesheet">
</head>
<body>
<div class="layui-layout layui-layout-admin">
  <div class="layui-header header header-demo">
  <div class="layui-fluid">
    <a class="logo" href="../index.html">
      <img src="/v2/static/images/layui/logo.png" alt="layui">
    </a>
    <div class="layui-form layui-hide-xs component" lay-filter="LAY-site-header-component"></div>
    <div class="layui-hide-xs site-notice"></div>
    
    <ul class="layui-nav" id="LAY_NAV_TOP">
      <li class="layui-nav-item" data-dir="docs">
        <a href="../docs/index.html">文档</a> 
      </li>
      <li class="layui-nav-item" data-dir="demo">
        <a href="index.html">示例</a>
      </li>
      
      <li class="layui-nav-item">
        <a href="javascript:;">
          <!--<span class="layui-badge-dot" style="left:0; right: auto; margin: -4px 0 0 5px;"></span>--> 
          生态
        </a>
        <dl class="layui-nav-child layui-nav-child-c">  
          
          
          
          <dd lay-unselect><a href="https://layuion.com/layer/" target="_blank">layer 组件单独版</a></dd>
        </dl>
      </li>
      
      
    </ul>
  </div>
</div>
 
<!-- 让 IE8/9 兼容响应式栅格 -->
<!--[if lt IE 9]>
  <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
  <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
 
  <div class="layui-side layui-bg-black">
    <div class="layui-side-scroll">
      <ul class="layui-nav layui-nav-tree site-demo-nav">
  <li class="layui-nav-item layui-nav-itemed">
    <a class="javascript:;" href="javascript:;">演示</a>
    <dl class="layui-nav-child">
      <dd>
        <a href="index.html">在线测试</a>
      </dd>
    </dl>
  </li>
  
  <li class="layui-nav-item layui-nav-itemed">
    <a class="javascript:;" href="javascript:;">布局</a>
    <dl class="layui-nav-child">
      <dd>
        <a href="grid.html">栅格</a>
      </dd>
      <dd>
        <a href="admin.html">外框</a>
      </dd>
    </dl>
  </li>
  
  <li class="layui-nav-item layui-nav-itemed">
    <a class="javascript:;" href="javascript:;">基本元素</a>
    <dl class="layui-nav-child">
      <dd>
        <a href="button.html">按钮</a>
      </dd>
      <dd>
        <a href="form.html">表单</a>
      </dd>
      <dd>
        <a href="nav.html">导航 / 面包屑</a>
      </dd>
      <dd>
        <a href="menu.html">基础菜单</a>
      </dd>
      <dd>
        <a href="tab.html">选项卡</a>
      </dd>
      <dd>
        <a href="progress.html">进度条</a>
      </dd>
      <dd>
        <a href="panel.html">面板</a>
      </dd>
      <dd>
        <a href="badge.html">徽章</a>
      </dd>
      <dd>
        <a href="timeline.html">时间线</a>
      </dd>
      <dd>
        <a href="table-element.html">静态表格</a>
      </dd>
      <dd>
        <a href="anim.html">动画</a>
      </dd>
      <dd>
        <a href="auxiliar.html">辅助元素</a>
      </dd>
    </dl>
  </li>
  
  <li class="layui-nav-item layui-nav-itemed">
    <a class="javascript:;" href="javascript:;">组件示例</a>
    <dl class="layui-nav-child">
      <dd>
        <a href="layer.html">
          弹出层
        </a>
      </dd>
      <dd>
        <a href="laydate.html">
          日期与时间选择
        </a>
      </dd>
      <dd>
        <a href="table.html">
          数据表格
        </a>
      </dd>
       <dd>
        <a href="laypage.html">
          分页
        </a>
      </dd>
      <dd>
        <a href="upload.html">
          上传
        </a>
      </dd>
      <dd>
        <a href="dropdown.html">
          下拉菜单
        </a>
      </dd>
      <dd>
        <a href="transfer.html">
          穿梭框
        </a>
      </dd>
      
       <dd>
        <a href="tree.html">
          树形组件
        </a>
      </dd>
      <dd>
        <a href="colorpicker.html">
          颜色选择器
        </a>
      </dd>
      <dd>
        <a href="slider.html">
          滑块
        </a>
      </dd>
      <dd>
        <a href="rate.html">
          评分
        </a>
      </dd>
      <dd>
        <a href="carousel.html">
          轮播
        </a>
      </dd>
      <dd>
        <a href="laytpl.html">
          模板引擎
        </a>
      </dd>
      <dd>
        <a href="flow.html">
          流加载
        </a>
      </dd>
      <dd>
        <a href="util.html">
          工具模块
        </a>
      </dd>
      <dd>
        <a href="code.html">
          文本行修饰
        </a>
      </dd>
    </dl>
  </li>
  
  <li class="layui-nav-item" style="height: 30px; text-align: center"></li>
</ul>

    </div>
  </div>
  <style>
  body .site-demo-title,
  body .layui-layout-admin .site-demo{left: 360px}
  .layui-layout-admin .site-demo-body{top: 107px;}
  body .site-demo-code{left: 160px; width: calc(100% - 160px);}
</style>
<div class="layui-side layui-side-child">
  <div class="layui-side-scroll">
    <!-- 左侧子菜单 -->
    <ul class="layui-nav layui-nav-tree site-demo-table-nav">
      <li class="layui-nav-item">
        <a class="layui-nav-title" class="layui-nav-title" href="table.html">
          表格综合演示
        </a>
      </li>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/auto.html">列宽自动分配<span class="layui-badge-dot"></span></a>
      </li>
      
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/data.html">赋值已知数据</a>
      </li>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/static.html">转化静态表格</a>
      </li>
      
      <hr>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/resetPage.html">自定义分页</a>
      </li>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/radio.html">开启单选框<span class="layui-badge-dot"></span></a>
      </li>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/cellEdit.html">双击单元格编辑</a>
      </li>
      <hr>
      
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/form.html">加入表单元素</a>
      </li>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/style.html">设置单元格样式</a>
      </li>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/fixed.html">固定列</a>
      </li>
      
      <hr>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/parseData.html">解析任意数据格式<span class="layui-badge-dot"></span></a>
      </li>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/onrow.html">行事件<span class="layui-badge-dot"></span></a>
      </li>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/reload.html">外部搜索</a>
      </li>
      <hr>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/initSort.html">设置初始排序</a>
      </li>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/cellEvent.html">单元格事件</a>
      </li>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="table/thead.html">复杂表头</a>
      </li>
      
      <hr>
      <li class="layui-nav-item">
        <a class="layui-nav-title" href="../docs/modules/table.html" target="_blank">更多用法见文档</a>
      </li>
    </ul>
  </div>
</div>
 
  <div class="layui-tab layui-tab-brief site-demo-table" lay-filter="demoTitle">
    <ul class="layui-tab-title site-demo-title">
      <li class="layui-this">预览</li>
      <li>查看代码</li>
      <li>帮助</li>
    </ul>
    <div class="layui-body layui-tab-content site-demo site-demo-body">
      <div class="layui-tab-item layui-show">
        <div class="layui-main">
          <div id="LAY_preview">           
<table class="layui-hide" id="test" lay-filter="test"></table>
 
<script type="text/html" id="toolbarDemo">
  <div class="layui-btn-container">
    <button class="layui-btn layui-btn-sm" lay-event="getCheckData">获取选中行数据</button>
    <button class="layui-btn layui-btn-sm" lay-event="getData">获取当前页数据</button>
    <button class="layui-btn layui-btn-sm" lay-event="isAll">是否全选</button>
    <button class="layui-btn layui-btn-sm layui-bg-blue" id="reloadTest">
      重载测试 
      <i class="layui-icon layui-icon-down layui-font-12"></i>
    </button>
    <button class="layui-btn layui-btn-sm layui-btn-primary" lay-event="multi-row">
      多行
    </button>
    <button class="layui-btn layui-btn-sm layui-btn-primary" lay-event="default-row">
      单行
    </button>
    <button class="layui-btn layui-btn-sm" id="moreTest">
      更多测试 
      <i class="layui-icon layui-icon-down layui-font-12"></i>
    </button>
  </div>
</script>
 
<script type="text/html" id="cityTpl">
  <select id="demoCity1" class="layui-border" lay-ignore>
    <option value="浙江杭州">浙江杭州</option>
    <option value="江西南昌">江西南昌</option>
    <option value="湖北武汉">湖北武汉</option>
  </select>
</script>
 
<script type="text/html" id="barDemo">
  <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>     
          </div>
        </div>
      </div>
      <div class="layui-tab-item"></div>
      <div class="layui-tab-item">
        <div class="layui-main">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
            <legend>相关</legend>
          </fieldset>
          <a class="layui-btn layui-btn-normal" href="../docs/modules/table.html" target="_blank">表格模块文档</a>
        </div>
      </div>
    </div>
  </div>
  <div class="layui-footer footer footer-demo">
  <p>
    Copyright &copy; 2022 <a href="../index.html">layui</a> MIT Licensed</p>
  <p id="LAY-footer-info">
    <a href="https://github.com/layui/layui/blob/main/DISCLAIMER.md" rel="nofollow" target="_blank">免责声明</a> 
    <a href="https://github.com/layui/layui/blob/main/LICENSE" rel="nofollow" target="_blank">开源协议</a>
  </p>
</div>
<script>
window.global = {
  pageType: 'demo'
  ,preview: function(){
    var preview = document.getElementById('LAY_preview');
    return preview ? preview.innerHTML : '';
  }()
};
</script>
<div class="site-tree-mobile layui-hide">
  <i class="layui-icon layui-icon-spread-left"></i>
</div>
<div class="site-mobile-shade"></div>
 
<script src="/v2/static/libs/layui/layui.js"></script>
<script>
layui.config({
  base: '/v2/static/modules/'
  ,version: '27601'
}).use('global');
</script>
 

</div>
<div id="LAY_democodejs">
<script>
layui.use(['table', 'dropdown'], function(){
  var table = layui.table;
  var dropdown = layui.dropdown;
  layer.msg('本示例演示的数据为静态模拟数据，<br>实际使用时换成您的真实接口即可。', {
    closeBtn: 1,
    icon: 6,
    time: 21*1000,
    offset: '21px'
  });
  
  // 创建渲染实例
  table.render({
    elem: '#test'
    ,url:'/v2/static/json/table/demo1.json' // 此处为静态模拟数据，实际使用时需换成真实接口
    ,toolbar: '#toolbarDemo'
    ,defaultToolbar: ['filter', 'exports', 'print', {
      title: '帮助'
      ,layEvent: 'LAYTABLE_TIPS'
      ,icon: 'layui-icon-tips'
    }]
    ,height: 'full-200' // 最大高度减去其他容器已占有的高度差
    ,cellMinWidth: 80
    ,totalRow: true // 开启合计行
    ,page: true
    ,cols: [[
      {type: 'checkbox', fixed: 'left'}
      ,{field:'id', fixed: 'left', width:80, title: 'ID', sort: true, totalRowText: '合计：'}
      ,{field:'username', width:80, title: '用户'}
      ,{field:'email', title:'邮箱 <i class="layui-icon layui-icon-email"></i>', hide: 0, width:150, edit: 'text'}
      ,{field:'sex', width:80, title: '性别', sort: true}
      ,{field:'city', width:115, title: '城市', minWidth:115, templet: '#cityTpl', exportTemplet: function(d, obj){
        //console.log(obj)
        // 处理该字段的导出数据
        var td = obj.td(this.field); //获取当前 td
        return td.find('select').val();
      }}
      ,{field:'sign', title: '签名', edit: 'textarea', minWidth: 260, style: '-moz-box-align: start;'}
      ,{field:'experience', width: 100, title: '积分', sort: true, totalRow: '{{= d.TOTAL_NUMS }} 😊'} 
      ,{field:'checkin', title:'打卡', width: 100, sort: true, totalRow: '{{= parseInt(d.TOTAL_NUMS) }} 次'}
      ,{field:'ip', title:'IP', width: 120}
      ,{field:'joinTime', title:'加入时间', width: 120}
      ,{fixed: 'right', title:'操作', width: 125, minWidth: 125, toolbar: '#barDemo'}
    ]]
    ,done: function(){
      var id = this.id;
 
      // 重载测试
      dropdown.render({
        elem: '#reloadTest' //可绑定在任意元素中，此处以上述按钮为例
        ,data: [{
          id: 'reload',
          title: '重载'
        },{
          id: 'reload-deep',
          title: '重载 - 参数叠加'
        },{
          id: 'reloadData',
          title: '仅重载数据'
        },{
          id: 'reloadData-deep',
          title: '仅重载数据 - 参数叠加'
        }]
        // 菜单被点击的事件
        ,click: function(obj){
          switch(obj.id){
            case 'reload':
              // 重载 - 默认（参数重置）
              table.reload('test', {
                where: {
                  abc: '123456'
                  //,test: '新的 test2'
                  //,token: '新的 token2'
                }
                /*
                ,cols: [[ // 重置表头
                  {type: 'checkbox', fixed: 'left'}
                  ,{field:'id', title:'ID', width:80, fixed: 'left', unresize: true, sort: true, totalRowText: '合计：'}
                  ,{field:'sex', title:'性别', width:80, edit: 'text', sort: true}
                  ,{field:'experience', title:'积分', width:80, sort: true, totalRow: true, templet: '<div>{{ d.experience }} 分</div>'}
                  ,{field:'logins', title:'登入次数', width:100, sort: true, totalRow: true}
                  ,{field:'joinTime', title:'加入时间', width:120}
                ]]
                */
              });
            break;
            case 'reload-deep':
              // 重载 - 深度（参数叠加）
              table.reload('test', {
                where: {
                  abc: 123
                  ,test: '新的 test1'
                }
                //,defaultToolbar: ['print'] // 重载头部工具栏右侧图标
                //,cols: ins1.config.cols
              }, true);
            break;
            case 'reloadData':
              // 数据重载 - 参数重置
              table.reloadData('test', {
                where: {
                  abc: '123456'
                  //,test: '新的 test2'
                  //,token: '新的 token2'
                }
                ,scrollPos: 'fixed'  // 保持滚动条位置不变 - v2.7.3 新增
                ,height: 2000 // 测试无效参数（即与数据无关的参数设置无效，此处以 height 设置无效为例）
                //,url: '404'
                //,page: {curr: 1, limit: 30} // 重新指向分页
              });
            break;
            case 'reloadData-deep':
              // 数据重载 - 参数叠加
              table.reloadData('test', {
                where: {
                  abc: 123
                  ,test: '新的 test1'
                }
              }, true);
            break;
          }
          layer.msg('可观察 Network 请求参数的变化');
        }
      });
 
      // 更多测试
      dropdown.render({
        elem: '#moreTest' //可绑定在任意元素中，此处以上述按钮为例
        ,data: [{
          id: 'add',
          title: '添加'
        },{
          id: 'update',
          title: '编辑'
        },{
          id: 'delete',
          title: '删除'
        }]
        //菜单被点击的事件
        ,click: function(obj){
          var checkStatus = table.checkStatus(id)
          var data = checkStatus.data; // 获取选中的数据
          switch(obj.id){
            case 'add':
              layer.open({
                title: '添加',
                type: 1,
                area: ['80%','80%'],
                content: '<div style="padding: 16px;">自定义表单元素</div>'
              });
            break;
            case 'update':
              if(data.length !== 1) return layer.msg('请选择一行');
              layer.open({
                title: '编辑',
                type: 1,
                area: ['80%','80%'],
                content: '<div style="padding: 16px;">自定义表单元素</div>'
              });
            break;
            case 'delete':
              if(data.length === 0){
                return layer.msg('请选择一行');
              }
              layer.msg('delete event');
            break;
          }
        }
      });
    }
    ,error: function(res, msg){
      console.log(res, msg)
    }
  });
  
  // 工具栏事件
  table.on('toolbar(test)', function(obj){
    var id = obj.config.id;
    var checkStatus = table.checkStatus(id);
    var othis = lay(this);
    switch(obj.event){
      case 'getCheckData':
        var data = checkStatus.data;
        layer.alert(layui.util.escape(JSON.stringify(data)));
      break;
      case 'getData':
        var getData = table.getData(id);
        console.log(getData);
        layer.alert(layui.util.escape(JSON.stringify(getData)));
      break;
      case 'isAll':
        layer.msg(checkStatus.isAll ? '全选': '未全选')
      break;
      case 'multi-row':
        table.reload('test', {
          // 设置行样式，此处以设置多行高度为例。若为单行，则没必要设置改参数 - 注：v2.7.0 新增
          lineStyle: 'height: 95px;' 
        });
        layer.msg('即通过设置 lineStyle 参数可开启多行');
      break;
      case 'default-row':
        table.reload('test', {
          lineStyle: null // 恢复单行
        });
        layer.msg('已设为单行');
      break;
      case 'LAYTABLE_TIPS':
        layer.alert('Table for layui-v'+ layui.v);
      break;
    };
  });
 
  //触发单元格工具事件
  table.on('tool(test)', function(obj){ // 双击 toolDouble
    var data = obj.data;
    //console.log(obj)
    if(obj.event === 'del'){
      layer.confirm('真的删除行么', function(index){
        obj.del();
        layer.close(index);
      });
    } else if(obj.event === 'edit'){
      layer.open({
        title: '编辑',
        type: 1,
        area: ['80%','80%'],
        content: '<div style="padding: 16px;">自定义表单元素</div>'
      });
    }
  });
 
  //触发表格复选框选择
  table.on('checkbox(test)', function(obj){
    console.log(obj)
  });
 
  //触发表格单选框选择
  table.on('radio(test)', function(obj){
    console.log(obj)
  });
  
  // 行单击事件
  table.on('row(test)', function(obj){
    //console.log(obj);
    //layer.closeAll('tips');
  });
  // 行双击事件
  table.on('rowDouble(test)', function(obj){
    console.log(obj);
  });
 
  // 单元格编辑事件
  table.on('edit(test)', function(obj){
    var field = obj.field //得到字段
    ,value = obj.value //得到修改后的值
    ,data = obj.data; //得到所在行所有键值
 
    var update = {};
    update[field] = value;
    obj.update(update);
  });
});
</script>
</div>!}}
</body>
</html>